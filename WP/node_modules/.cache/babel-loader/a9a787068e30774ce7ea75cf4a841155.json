{"ast":null,"code":"import React from'react';import Button from'@material-ui/core/Button';import PlayArrow from'@material-ui/icons/PlayArrow';import SaveIcon from'@material-ui/icons/SaveAlt';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ActionButtons(props){var conf=props.conf,saveSettings=props.saveSettings,i18n=props.i18n,t=props.t,getUrls=props.getUrls,setPlaying=props.setPlaying;var exportToFile=function exportToFile(){saveSettings();var fileName='show.html';var content=\"<!DOCTYPE html>\\n<html lang=\\\"\".concat(i18n.language,\"\\\">\\n<head>\\n  <meta charset=\\\"utf-8\\\" />\\n  <title>UFAX Carousel</title>\\n  <meta name=\\\"description\\\" content=\\\"Generated with UFAX\\\"/>\\n  <meta name=\\\"url\\\" content=\\\"http://projectestac.github.io/UFAX/\\\"/>\\n</head>\\n<body style=\\\"padding:0;margin:0\\\">\\n  <div style=\\\"width:100%;height:100vh;margin:0;padding:0;overflow:hidden;\\\">\\n    <iframe src=\\\"\\\" style=\\\"width:100%;height:100%;\\\" name=\\\"view\\\" title=\\\"Page view\\\" allowFullScreen=\\\"true\\\"\\n      onLoad=\\\"window.scrollTo(0, 0)\\\">\\n      <p>Your browser does not support iframes!</p>\\n    </iframe>\\n  </div>\\n  <script>\\n    const urls = \").concat(JSON.stringify(getUrls()).replace(/\",\"/g,'\",\\n      \"'),\";\\n    const interval = \").concat(conf.interval,\";\\n    let currentPage = 0;\\n    const iframe = document.querySelector('iframe');\\n    iframe.setAttribute('src', urls[0]);\\n    window.setInterval(() => {\\n      currentPage = (currentPage + 1) % urls.length;\\n      iframe.setAttribute('src', urls[currentPage]);\\n    }, interval * 1000);\\n  </script>\\n</body>\\n</html>\");var blob=new Blob([content],{type:'text/html;charset=utf-8;'});if(navigator.msSaveBlob){// IE 10+\nnavigator.msSaveBlob(blob,fileName);}else{var link=document.createElement(\"a\");if(link.download!==undefined){// feature detection\n// Browsers that support HTML5 download attribute\nvar url=URL.createObjectURL(blob);link.setAttribute(\"href\",url);link.setAttribute(\"download\",fileName);link.style.visibility='hidden';document.body.appendChild(link);link.click();document.body.removeChild(link);}}};// Set the `playing` value to true \nvar play=function play(){saveSettings();setPlaying(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"playBtn\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",onClick:exportToFile,disabled:conf.numUrls===0,children:[t('export'),/*#__PURE__*/_jsx(SaveIcon,{className:\"leftIcon\"})]}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",onClick:play,disabled:conf.numUrls===0,children:[t('start'),/*#__PURE__*/_jsx(PlayArrow,{className:\"leftIcon\"})]})]});}export default ActionButtons;","map":{"version":3,"sources":["D:/WORDPRESS/UFATOP1/wp/src/components/ActionButtons.js"],"names":["React","Button","PlayArrow","SaveIcon","ActionButtons","props","conf","saveSettings","i18n","t","getUrls","setPlaying","exportToFile","fileName","content","language","JSON","stringify","replace","interval","blob","Blob","type","navigator","msSaveBlob","link","document","createElement","download","undefined","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","play","numUrls"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,C,wFAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAE5B,GAAQC,CAAAA,IAAR,CAA6DD,KAA7D,CAAQC,IAAR,CAAcC,YAAd,CAA6DF,KAA7D,CAAcE,YAAd,CAA4BC,IAA5B,CAA6DH,KAA7D,CAA4BG,IAA5B,CAAkCC,CAAlC,CAA6DJ,KAA7D,CAAkCI,CAAlC,CAAqCC,OAArC,CAA6DL,KAA7D,CAAqCK,OAArC,CAA8CC,UAA9C,CAA6DN,KAA7D,CAA8CM,UAA9C,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBL,YAAY,GACZ,GAAMM,CAAAA,QAAQ,CAAG,WAAjB,CACA,GAAMC,CAAAA,OAAO,yCACHN,IAAI,CAACO,QADF,mmBAgBEC,IAAI,CAACC,SAAL,CAAeP,OAAO,EAAtB,EAA0BQ,OAA1B,CAAkC,MAAlC,CAA0C,aAA1C,CAhBF,oCAiBMZ,IAAI,CAACa,QAjBX,oUAAb,CA6BA,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAAS,CAACP,OAAD,CAAT,CAAoB,CAAEQ,IAAI,CAAE,0BAAR,CAApB,CAAb,CACA,GAAIC,SAAS,CAACC,UAAd,CAA0B,CAAE;AAC1BD,SAAS,CAACC,UAAV,CAAqBJ,IAArB,CAA2BP,QAA3B,EACD,CAFD,IAEO,CACL,GAAIY,CAAAA,IAAI,CAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAX,CACA,GAAIF,IAAI,CAACG,QAAL,GAAkBC,SAAtB,CAAiC,CAAE;AACjC;AACA,GAAIC,CAAAA,GAAG,CAAGC,GAAG,CAACC,eAAJ,CAAoBZ,IAApB,CAAV,CACAK,IAAI,CAACQ,YAAL,CAAkB,MAAlB,CAA0BH,GAA1B,EACAL,IAAI,CAACQ,YAAL,CAAkB,UAAlB,CAA8BpB,QAA9B,EACAY,IAAI,CAACS,KAAL,CAAWC,UAAX,CAAwB,QAAxB,CACAT,QAAQ,CAACU,IAAT,CAAcC,WAAd,CAA0BZ,IAA1B,EACAA,IAAI,CAACa,KAAL,GACAZ,QAAQ,CAACU,IAAT,CAAcG,WAAd,CAA0Bd,IAA1B,EACD,CACF,CACF,CAhDD,CAkDA;AACA,GAAMe,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjBjC,YAAY,GACZI,UAAU,CAAC,IAAD,CAAV,CACD,CAHD,CAKA,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,MAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,SAFR,CAGE,OAAO,CAAEC,YAHX,CAIE,QAAQ,CAAEN,IAAI,CAACmC,OAAL,GAAiB,CAJ7B,WAMGhC,CAAC,CAAC,QAAD,CANJ,cAOE,KAAC,QAAD,EAAU,SAAS,CAAC,UAApB,EAPF,GADF,cAWE,MAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,SAFR,CAGE,OAAO,CAAE+B,IAHX,CAIE,QAAQ,CAAElC,IAAI,CAACmC,OAAL,GAAiB,CAJ7B,WAMGhC,CAAC,CAAC,OAAD,CANJ,cAOE,KAAC,SAAD,EAAW,SAAS,CAAC,UAArB,EAPF,GAXF,GADF,CAuBD,CAED,cAAeL,CAAAA,aAAf","sourcesContent":["import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport PlayArrow from '@material-ui/icons/PlayArrow'\nimport SaveIcon from '@material-ui/icons/SaveAlt';\n\nfunction ActionButtons(props) {\n\n  const { conf, saveSettings, i18n, t, getUrls, setPlaying } = props;\n\n  const exportToFile = () => {\n    saveSettings();\n    const fileName = 'show.html';\n    const content = `<!DOCTYPE html>\n<html lang=\"${i18n.language}\">\n<head>\n  <meta charset=\"utf-8\" />\n  <title>UFAX Carousel</title>\n  <meta name=\"description\" content=\"Generated with UFAX\"/>\n  <meta name=\"url\" content=\"http://projectestac.github.io/UFAX/\"/>\n</head>\n<body style=\"padding:0;margin:0\">\n  <div style=\"width:100%;height:100vh;margin:0;padding:0;overflow:hidden;\">\n    <iframe src=\"\" style=\"width:100%;height:100%;\" name=\"view\" title=\"Page view\" allowFullScreen=\"true\"\n      onLoad=\"window.scrollTo(0, 0)\">\n      <p>Your browser does not support iframes!</p>\n    </iframe>\n  </div>\n  <script>\n    const urls = ${JSON.stringify(getUrls()).replace(/\",\"/g, '\",\\n      \"')};\n    const interval = ${conf.interval};\n    let currentPage = 0;\n    const iframe = document.querySelector('iframe');\n    iframe.setAttribute('src', urls[0]);\n    window.setInterval(() => {\n      currentPage = (currentPage + 1) % urls.length;\n      iframe.setAttribute('src', urls[currentPage]);\n    }, interval * 1000);\n  </script>\n</body>\n</html>`;\n\n    const blob = new Blob([content], { type: 'text/html;charset=utf-8;' });\n    if (navigator.msSaveBlob) { // IE 10+\n      navigator.msSaveBlob(blob, fileName);\n    } else {\n      var link = document.createElement(\"a\");\n      if (link.download !== undefined) { // feature detection\n        // Browsers that support HTML5 download attribute\n        var url = URL.createObjectURL(blob);\n        link.setAttribute(\"href\", url);\n        link.setAttribute(\"download\", fileName);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    }\n  }\n\n  // Set the `playing` value to true \n  const play = () => {\n    saveSettings();\n    setPlaying(true);\n  }\n\n  return (\n    <div className=\"playBtn\">\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={exportToFile}\n        disabled={conf.numUrls === 0}\n      >\n        {t('export')}\n        <SaveIcon className=\"leftIcon\" />\n      </Button>\n\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={play}\n        disabled={conf.numUrls === 0}\n      >\n        {t('start')}\n        <PlayArrow className=\"leftIcon\" />\n      </Button>\n    </div>\n  );\n}\n\nexport default ActionButtons;\n"]},"metadata":{},"sourceType":"module"}